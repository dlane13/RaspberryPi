<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Failure Detection</title>

  <!-- Updated Bootstrap to v5.3 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- Custom CSS -->
  <style>
    body {
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: rgb(205, 255, 243);
      
    }

    .navbar-nav .nav-link {
      color: rgb(197, 203, 255);
    }

    .jumbotron-main {
      margin-bottom: 0;
      background-color: rgb(205, 255, 243);
      text-align: center;
      padding: 2rem;
      font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    }

    .jumbotron-main h1 {
      color: rgb(120, 20, 70);
      font-weight: bold;
    }

    .jumbotron-main p {
      color: rgb(168, 71, 154);
    }

    .jumbotron-footer {
      background-color: rgb(137, 159, 238);
      text-align: left;
      padding: 1rem 2rem;
    }

    img {
      max-width: 100%;
      height: auto;
      margin: 10px 0;
      display: block;
      border: 10px solid darkcyan;
      border-radius: 8px;
    }

    .image-caption {
      font-size: 1rem;
      color: darkslategray;
      text-align: center;
      margin-bottom: 20px;
    }

    .refresh-button {
    background-color: rgb(255, 146, 195);
    color: white;
    border: fuchsia 10px;
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 8px;
    transition: background-color 0.3s ease, transform 0.2s ease;
  }

  .refresh-button:hover {
    background-color: rgb(255, 116, 220);
    border: rgb(114, 0, 114) 10px;
    transform: scale(1.2);
  }
  </style>
</head>

<body>

  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/HomePage">Home Page</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/ConveyorBelt">Conveyor Belt</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/OctoPrint">OctoPrint Manager</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/FailureDetection">Failure Detection</a>
      </li>
    </ul>
  </nav>

  <!-- Jumbotron Section -->
  <div class="jumbotron jumbotron-main">
    <h1>Failure Detection</h1>
    <p>Monitor your print here!</p>
    <button id="hardRefresh" class="refresh-button">Press to Live Update Image!</button>
</div>

<!-- js hard refresh button -->
<script>
  document.getElementById('hardRefresh').addEventListener('click', () => {
    const currentUrl = window.location.href.split('?')[0]; 
    window.location.href = `${currentUrl}?cacheBust=${new Date().getTime()}`;
  });
</script>
  </div>

  <!-- Image Section -->
  <div class="container text-center">
    <div>
      <img src="static/image.jpg" alt="Livestream image" style="display: block; margin: 0 auto;">
      <p class="image-caption">Current Livestream Snapshot</p>
      <div class="row">
        <div class="col-md-6">
          <img src="static/Photos/print1.jpg" alt="Print in progress">
          <p class="image-caption">Successful Print in Progress</p>
        </div>
        <div class="col-md-6">
          <img src="static/Photos/print2.jpg" alt="Print failing">
          <p class="image-caption">Print Failing: Adhesion Issues</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="jumbotron jumbotron-footer">
    <p>&copy; CompactDisk 2024 </p>
  </div>

</body>

</html>
